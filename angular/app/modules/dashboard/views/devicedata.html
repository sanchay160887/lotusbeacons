<style>
.content-device_block {
	border: 1px solid grey;
	margin: 2% auto;
	min-height: 300px;
	padding: 2% 0;
	width: 98%;
}
.block_title_1 {
	border-bottom: 1px solid;
	font-size: 15px;
	margin-bottom: 0;
	padding: 3px 0;
	text-align: center;
}
.block_title_2 {
	border-bottom: 1px solid;
	font-size: 12px;
	margin-bottom: 0;
	padding: 3px 0;
	min-height: 40px;
	word-wrap: break-word;
}
.block_title_3 {
	border-bottom: 1px solid;
	font-size: 16px;
	margin-bottom: 0;
	padding: 3px 0;
	min-height: 40px;
}
.bcon_selection {
	padding: 2% 0 4%;
}
.bcon-slect-title {
	margin-bottom: 0;
	padding: 7% 0;
}
</style>

<!--
Author: Ranjithprabhu K
Page Description: Dashboard Home page
Date: 05 Jan 2016
-->
<!-- Content Header (Page header) -->

<section class="content-header">
  <h1> Devices </h1>
  <ol class="breadcrumb">
    <li><a><i class="fa fa-dashboard"></i> Dashboard</a></li>
    <li class="active">Devices</li>
  </ol>
</section>
<div class="content-device_block">
  <div class="container-fluid"> 
    <!-- <div class="row">
            <div>
                 <input type = "file" file-model = "myFile"/>
                 <button ng-click = "uploadFile()">upload me</button>
              </div>
              <div class="clearfix"></div>
        </div> -->
    
    <div class="bcon_selection row">
      <div class="col-md-4">
        <div class="form-group">
          <div class="col-md-4">
            <label class="bcon-slect-title">Select Store</label>
          </div>
          <div class="col-md-8">
            <select class="form-control col-md-4" ng-model="selectedStore">
              <option value="">Select Store</option>
              <option ng-repeat="device in storeData" 
                                value="{{device._id}}">{{device.StoreName}}</option>
            </select>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="form-group">
          <div class="col-md-5">
            <label class="bcon-slect-title">Select Beacon</label>
          </div>
          <div class="col-md-5">
            <select class="form-control col-md-4" ng-model="selectedBeacon">
              <option value="">All</option>
              <option ng-repeat="device in beaconData | orderBy:BeaconKey" 
                                value="{{device.BeaconID}}">{{device.BeaconKey}}</option>
            </select>
          </div>
          <div class="col-md-1">
            <button type="button" class="btn btn-info" ng-click="loadData()">Show</button>
          </div>
        </div>
      </div>
      <div class="col-md-2">
        <button type="button" class="btn btn-info" data-toggle="modal" data-target="#text-message">Send Notification</button>
      </div>
      <!-- <div class="col-md-2">
                <button type="button" class="btn btn-info" data-toggle="modal" data-target="#graphic-message">Send Image Message</button>
            </div> --> 
    </div>
    <div class="row">
      <div class="col-md-1">
        <div class="content-device_block_1">
          <p class="block_title_1">Select</p>
        </div>
      </div>
      <div class="col-md-6">
        <div class="content-device_block_2">
          <p class="block_title_1">Device ID</p>
        </div>
      </div>
      <div class="col-md-3">
        <div class="content-device_block_3">
          <p class="block_title_1">Distance</p>
        </div>
      </div>
      <div class="col-md-2">
        <div class="content-device_block_1">
          <p class="block_title_1">Beacon</p>
        </div>
      </div>
    </div>
    <div class="row" ng-repeat= "device in deviceData | orderBy:Distance ">
      <div class="col-md-1">
        <div class="content-device_block_1">
          <input type="checkbox" value="{{ device.DeviceID }}" 
                    ng-click="ShowSelectedTokens()"
                    ng-model="device.checked">
        </div>
      </div>
      <div class="col-md-6">
        <div class="content-device_block_2">
          <p class="block_title_2">{{ device.DeviceID }}</p>
        </div>
      </div>
      <div class="col-md-3">
        <div class="content-device_block_3">
          <p class="block_title_3"> {{ device.Distance }} {{ device.Distance | numberEx:2 }} meter</p>
        </div>
      </div>
      <div class="col-md-2">
        <div class="content-device_block_1">
          <p class="block_title_3">{{ device.BeaconKey }}</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div id="text-message" class="modal fade" role="dialog">
  <div class="modal-dialog"> 
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Send Text Message</h4>
      </div>
      <div class="modal-body">
        <div class="form-group clearfix">
          <label for="inputEmail3" class="col-sm-4 control-label">Title</label>
          <div class="col-sm-8">
            <div class="input-icon right">
              <input class="form-control tag-inpt" ng-model="TM_title" />
            </div>
          </div>
        </div>
        <div class="form-group clearfix">
          <label for="inputEmail3" class="col-sm-4 control-label">Description</label>
          <div class="col-sm-8">
            <div class="input-icon right">
              <textarea ng-model="TM_descr" style="width:100%"></textarea>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="sendTextMessage()"> Send</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->
<div id="graphic-message" class="modal fade" role="dialog">
  <div class="modal-dialog"> 
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Modal Header</h4>
      </div>
      <div class="modal-body">
        <p>Some text in the modal.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
